<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
<meta charset="UTF-8">
<title>Browse Users</title>
</head>
<body>
	<a href='/home'>Home</a>
	<h2>Browse Users</h2>


	<table class="">

		<tr align="center">
			<th>Royal ID</th>
			<th>First Name</th>
			<th>Last Name</th>
			<th>Email</th>
			<th>Address</th>
			<th>Phone</th>
			<th>Profile</th>
			<th sec:authorize="hasRole('ROLE_FACULTY')">Update Account</th>

		</tr>

		<tr th:each="user: ${systemusers}" align="center">
			<td th:text="${user.royalID}"></td>
			<td th:text="${user.firstName}"></td>
			<td th:text="${user.lastName}"></td>
			<td th:text="${user.email}">}</td>
			<td th:text="${user.userAddress}">}</td>
			<td th:text="${user.phoneNumber}">}</td>
			<td><a th:href="@{/viewProfile(royalID=${{user.royalID}})}">
					View Details </a></td>
			<td><a th:href="@{/updateUserAccount(royalID=${{user.royalID}})}" sec:authorize="hasRole('ROLE_FACULTY')">Update User Account</a></td>
		</tr>

	</table>

	<form action="#" th:action="@{/browseUsers}" th:object="${filters}"
		method="post">
		<br> Search By Name:<br> Enter Name:<input type="text"
			th:field="*{searchName}" />
		<ul>
			<li><label> Filter by User Type</label></li>
			<li><input type="radio" value="student" th:field="*{userType}">
				Current Student</li>
			<li><input type="radio" value="alumni" th:field="*{userType}">
				Alumni</li>
			<li><input type="radio" value="All" th:field="*{userType}">
				All Users</li>
		</ul>
		<ul>
			<li><label> Select skill criteria to filter by</label></li>
			<li th:each="skill : ${skills}"><input type="checkbox"
				name="ski" th:value="${skill.skillName}"
				th:field="*{selectedSkills}" /> <label th:text="${skill.skillName}"></label></li>
		</ul>
		<button type="submit">Apply Filters</button>

	</form>

</body>
</html>